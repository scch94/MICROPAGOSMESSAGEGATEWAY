[2024-05-22 21:21:49.135] [not_specified] [config] [info] [] starting to get the config struct 
[2024-05-22 21:21:49.136] [Gconfiguration] [] [info] [] starting gconfiguration Versión:%!(EXTRA string=1.0.0)
[2024-05-22 21:21:49.136] [Gconfiguration] [] [info] [] ubication of the configurationfile C:\golang\proyectos\micropagosmessagateway\cmd\configuration\config.json
[2024-05-22 21:21:49.140] [Gconfiguration] [] [info] [] ending to get the configuration
[2024-05-22 21:21:49.141] [Gconfiguration] [] [trace] [] this is the data that we have in the configuration {"getUserDomain":{"url":"http://localhost:2121/userdomain","method":"GET","timeout":40000},"server_port":":1000","getFilterDatabase":{"url":"http://localhost:2121/filter","method":"GET","timeout":40000},"inserMessage":{"url":"http://localhost:2121/insertMessage","method":"POST","timeout":40000},"smsGateway":{"url":"http://localhost:1111/","method":"POST","timeout":40000},"portabilidad":{"url":"http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/","method":"POST","timeout":40000,"portabilidad_user":"inswitch","portabilidad_password":"1234"},"max_message_length":500,"mobil_regex":"^09\\d{7}$","raven":[{"name":"testing","sendMail":false,"shortNumber":88277},{"name":"pronto","sendMail":false,"shortNumber":17800},{"name":"oca","sendMail":false,"shortNumber":1730},{"name":"creditel","sendMail":false,"shortNumber":4242},{"name":"itau","sendMail":false,"shortNumber":1784},{"name":"facilcel","sendMail":false,"shortNumber":3031},{"name":"santander","sendMail":false,"shortNumber":1320},{"name":"creditosDirectos","sendMail":false,"shortNumber":18919},{"name":"firstdata","sendMail":false,"shortNumber":2992},{"name":"Micropagos","sendMail":false,"shortNumber":88277}]}
[2024-05-22 21:21:49.142] [micropagosmessagegateway] [main] [info] [] starting micropagos message gateway version: 1.0.0
[2024-05-22 21:21:49.142] [micropagosmessagegateway] [server] [info] [] Starting server on address: :1000
[2024-05-22 21:22:10.358] [not_specified] [config] [info] [] starting to get the config struct 
[2024-05-22 21:22:10.358] [Gconfiguration] [] [info] [] starting gconfiguration Versión:%!(EXTRA string=1.0.0)
[2024-05-22 21:22:10.358] [Gconfiguration] [] [info] [] ubication of the configurationfile C:\golang\proyectos\micropagosmessagateway\cmd\configuration\config.json
[2024-05-22 21:22:10.359] [Gconfiguration] [] [info] [] ending to get the configuration
[2024-05-22 21:22:10.360] [Gconfiguration] [] [trace] [] this is the data that we have in the configuration {"getUserDomain":{"url":"http://localhost:2121/userdomain","method":"GET","timeout":40000},"server_port":":1000","getFilterDatabase":{"url":"http://localhost:2121/filter","method":"GET","timeout":40000},"inserMessage":{"url":"http://localhost:2121/insertMessage","method":"POST","timeout":40000},"smsGateway":{"url":"http://localhost:1111/","method":"POST","timeout":40000},"portabilidad":{"url":"http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/","method":"POST","timeout":40000,"portabilidad_user":"inswitch","portabilidad_password":"1234"},"max_message_length":500,"mobil_regex":"^09\\d{7}$","raven":[{"name":"testing","sendMail":false,"shortNumber":88277},{"name":"pronto","sendMail":false,"shortNumber":17800},{"name":"oca","sendMail":false,"shortNumber":1730},{"name":"creditel","sendMail":false,"shortNumber":4242},{"name":"itau","sendMail":false,"shortNumber":1784},{"name":"facilcel","sendMail":false,"shortNumber":3031},{"name":"santander","sendMail":false,"shortNumber":1320},{"name":"creditosDirectos","sendMail":false,"shortNumber":18919},{"name":"firstdata","sendMail":false,"shortNumber":2992},{"name":"Micropagos","sendMail":false,"shortNumber":88277}]}
[2024-05-22 21:22:10.361] [micropagosmessagegateway] [main] [info] [] starting micropagos message gateway version: 1.0.0
[2024-05-22 21:22:10.361] [micropagosmessagegateway] [server] [info] [] Starting server on address: :1000
[2024-05-22 21:22:33.708] [micropagosmessagegateway] [middleware] [info] [001e848ccce4] New petition received
[2024-05-22 21:22:33.708] [micropagosmessagegateway] [middleware] [trace] [001e848ccce4] url: /, method: GET
[2024-05-22 21:22:33.708] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:22:33.708] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:22:33.708] [micropagosmessagegateway] [handlerWelcome] [info] [001e848ccce4] starting handler welcome
[2024-05-22 21:22:33.709] [micropagosmessagegateway] [middleware] [info] [001e848ccce4] Request took 515.5µs
[2024-05-22 21:26:46.150] [not_specified] [config] [info] [] starting to get the config struct 
[2024-05-22 21:26:46.150] [Gconfiguration] [] [info] [] starting gconfiguration Versión:%!(EXTRA string=1.0.0)
[2024-05-22 21:26:46.150] [Gconfiguration] [] [info] [] ubication of the configurationfile C:\golang\proyectos\micropagosmessagateway\cmd\configuration\config.json
[2024-05-22 21:26:46.154] [Gconfiguration] [] [info] [] ending to get the configuration
[2024-05-22 21:26:46.154] [Gconfiguration] [] [trace] [] this is the data that we have in the configuration {"getUserDomain":{"url":"http://localhost:2121/userdomain","method":"GET","timeout":40000},"server_port":":1000","getFilterDatabase":{"url":"http://localhost:2121/filter","method":"GET","timeout":40000},"inserMessage":{"url":"http://localhost:2121/insertMessage","method":"POST","timeout":40000},"smsGateway":{"url":"http://localhost:1111/","method":"POST","timeout":40000},"portabilidad":{"url":"http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/","method":"POST","timeout":40000,"portabilidad_user":"inswitch","portabilidad_password":"1234"},"max_message_length":500,"mobil_regex":"^09\\d{7}$","raven":[{"name":"testing","sendMail":false,"shortNumber":88277},{"name":"pronto","sendMail":false,"shortNumber":17800},{"name":"oca","sendMail":false,"shortNumber":1730},{"name":"creditel","sendMail":false,"shortNumber":4242},{"name":"itau","sendMail":false,"shortNumber":1784},{"name":"facilcel","sendMail":false,"shortNumber":3031},{"name":"santander","sendMail":false,"shortNumber":1320},{"name":"creditosDirectos","sendMail":false,"shortNumber":18919},{"name":"firstdata","sendMail":false,"shortNumber":2992},{"name":"Micropagos","sendMail":false,"shortNumber":88277}]}
[2024-05-22 21:26:46.155] [micropagosmessagegateway] [main] [info] [] starting micropagos message gateway version: 1.0.0
[2024-05-22 21:26:46.155] [micropagosmessagegateway] [server] [info] [] Starting server on address: :1000
[2024-05-22 21:27:38.552] [micropagosmessagegateway] [middleware] [info] [2e22f5fc85db] New petition received
[2024-05-22 21:27:38.552] [micropagosmessagegateway] [middleware] [trace] [2e22f5fc85db] url: /, method: GET
[2024-05-22 21:27:38.552] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:27:38.552] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:27:38.555] [micropagosmessagegateway] [handlerWelcome] [info] [2e22f5fc85db] starting handler welcome
[2024-05-22 21:27:38.555] [micropagosmessagegateway] [middleware] [info] [2e22f5fc85db] Request took 3.1172ms
[2024-05-22 21:28:41.610] [micropagosmessagegateway] [middleware] [info] [995a0c3fe125] New petition received
[2024-05-22 21:28:41.610] [micropagosmessagegateway] [middleware] [trace] [995a0c3fe125] url: /ws/SendMessageService, method: POST
[2024-05-22 21:28:41.610] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:28:41.610] [micropagosmessagegateway] [middleware] [info] [] starting Authentication proccess for eaguerre
[2024-05-22 21:28:41.610] [micropagosmessagegateway] [middleware] [info] [] the user:eaguerre is already authenticated
[2024-05-22 21:28:41.611] [micropagosmessagegateway] [handler] [info] [995a0c3fe125] starting to sendMessage method to the user eaguerre
[2024-05-22 21:28:41.611] [micropagosmessagegateway] [handler] [debug] [995a0c3fe125] starting to get the xml
[2024-05-22 21:28:41.611] [micropagosmessagegateway] [handler] [trace] [995a0c3fe125] this is the body of the petition <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.ravenws.micropagos.com.uy/">\n   <soapenv:Header/>\n   <soapenv:Body>\n      <web:send>\n         <!--Optional:-->\n         <mobile>099111111</mobile>\n         <!--Optional:-->\n         <message>tes</message>\n         <useOriginName></useOriginName>\n      </web:send>\n   </soapenv:Body>\n</soapenv:Envelope>
[2024-05-22 21:28:41.611] [micropagosmessagegateway] [handler] [info] [995a0c3fe125] method: send indivuald message, starting to validate the petition 
[2024-05-22 21:28:41.611] [micropagosmessagegateway] [handler] [debug] [995a0c3fe125] PETITION[3933c3b37f7e] this is the data that we are going to validate : Mobile: 099111111, Message: tes, 
[2024-05-22 21:28:41.612] [micropagosmessagegateway] [validation] [info] [995a0c3fe125] PETITION[3933c3b37f7e], starting to validate a regex expression
[2024-05-22 21:28:41.612] [micropagosmessagegateway] [validation] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], regex expression: ^09\d{7}$ value to validate 099111111
[2024-05-22 21:28:41.612] [micropagosmessagegateway] [validation] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], value match with the regex expression
[2024-05-22 21:28:41.612] [micropagosmessagegateway] [validation] [debug] [995a0c3fe125] starting to format number
[2024-05-22 21:28:41.612] [micropagosmessagegateway] [handler] [debug] [995a0c3fe125] PETITION[3933c3b37f7e], the mobile number pass the regex expression and the formatted number is 59899111111
[2024-05-22 21:28:41.613] [micropagosmessagegateway] [validation] [info] [995a0c3fe125] PETITION[3933c3b37f7e], starting to validate th message length
[2024-05-22 21:28:41.613] [micropagosmessagegateway] [validation] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], max length: 500 message to validate tes
[2024-05-22 21:28:41.613] [micropagosmessagegateway] [validation] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], using normal message
[2024-05-22 21:28:41.614] [micropagosmessagegateway] [handler] [debug] [995a0c3fe125] PETITION[3933c3b37f7e], the message pass the validateMessageLength this is the final message: tes
[2024-05-22 21:28:41.614] [micropagosmessagegateway] [handler] [info] [995a0c3fe125] PETITION[3933c3b37f7e], checking short number
[2024-05-22 21:28:41.614] [micropagosmessagegateway] [handler] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], using short number of the config
[2024-05-22 21:28:41.614] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], startin to prepare the call to databasegateway GetUserDomain
[2024-05-22 21:28:41.614] [micropagosmessagegateway] [client] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], starting to prepare the URL to the petition
[2024-05-22 21:28:41.614] [micropagosmessagegateway] [client] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], petition http created
[2024-05-22 21:28:41.614] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Final url : http://localhost:2121/userdomain/eaguerre/3933c3b37f7e
[2024-05-22 21:28:52.503] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Request to Micropagos_database tooks 10.8888695s
[2024-05-22 21:28:52.503] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], HTTP Status Response: 200
[2024-05-22 21:28:52.503] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], RESPONSE BODY: {"result":0,"message":"the domain name is: Micropagos","domain":"Micropagos"}
[2024-05-22 21:28:52.503] [micropagosmessagegateway] [client] [debug] [995a0c3fe125] the user domain is: Micropagos
[2024-05-22 21:28:52.504] [micropagosmessagegateway] [handler] [info] [995a0c3fe125] PETITION[3933c3b37f7e] this is the originNumber 88277
[2024-05-22 21:28:52.504] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], startin to prepare the call to portability whit number 59899111111
[2024-05-22 21:28:52.504] [micropagosmessagegateway] [client] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], petition http created
[2024-05-22 21:28:52.504] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Final url : http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/
[2024-05-22 21:28:52.505] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Final BODY: <Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us">\n	<soapenv:Header></soapenv:Header>\n	<soapenv:Body>\n		<web:getTelco>\n			<web:msisdn>59899111111</web:msisdn>\n		</web:getTelco>\n	</soapenv:Body>\n</Envelope>
[2024-05-22 21:28:52.928] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Request to PORTABILIDAD tooks 422.6378ms
[2024-05-22 21:28:52.929] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], HTTP Status Response: 200
[2024-05-22 21:28:52.929] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], RESPONSE BODY: <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us" xmlns:xsd="http://user.dto.webservices.push.inswitch.us/xsd"><soapenv:Header/><soapenv:Body><web:getTelcoResponse><web:return><xsd:telcoCode>1</xsd:telcoCode><xsd:telcoName>ANCEL</xsd:telcoName></web:return></web:getTelcoResponse></soapenv:Body></soapenv:Envelope>
[2024-05-22 21:28:52.929] [micropagosmessagegateway] [handler] [info] [995a0c3fe125] PETITION[3933c3b37f7e], TELCONAME: ANCEL
[2024-05-22 21:28:52.929] [micropagosmessagegateway] [handler] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], starting to validate if the the origin number and destiny are filters
[2024-05-22 21:28:52.930] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], startin to prepare the call to databasegateway checking FILTER
[2024-05-22 21:28:52.930] [micropagosmessagegateway] [client] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], starting to prepare the URL to the petition
[2024-05-22 21:28:52.930] [micropagosmessagegateway] [client] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], petition http created
[2024-05-22 21:28:52.930] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Final url : http://localhost:2121/filter/99111111/88277/3933c3b37f7e
[2024-05-22 21:28:53.337] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Request to database tooks 406.4653ms
[2024-05-22 21:28:53.337] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], HTTP Status Response: 200
[2024-05-22 21:28:53.337] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], RESPONSE BODY: {"result":false,"message":""}
[2024-05-22 21:28:53.337] [micropagosmessagegateway] [client] [debug] [995a0c3fe125] the filter message response was: shortnumber and destinity are filter? : false
[2024-05-22 21:28:53.337] [micropagosmessagegateway] [handler] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], starting to check send after and send before data
[2024-05-22 21:28:53.337] [micropagosmessagegateway] [validation] [debug] [995a0c3fe125] PETITION[3933c3b37f7e], checking send after and send before 
[2024-05-22 21:28:53.338] [micropagosmessagegateway] [validation] [trace] [995a0c3fe125] PETITION[3933c3b37f7e] senfafter or sendbefore are empity or didnt match with the expected fomat HH:mm
[2024-05-22 21:28:53.338] [micropagosmessagegateway] [validation] [debug] [995a0c3fe125] PETITION[3933c3b37f7e]: sendBefore:  sendAfter: 
[2024-05-22 21:28:53.338] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], startin to prepare the call to telcoGateway
[2024-05-22 21:28:53.338] [micropagosmessagegateway] [client] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], starting to prepare the body of the petition
[2024-05-22 21:28:53.338] [micropagosmessagegateway] [client] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], petition http created
[2024-05-22 21:28:53.338] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Final url : http://localhost:1111/
[2024-05-22 21:28:53.338] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Final BODY: {"utfi":"3933c3b37f7e","serviceType":"","origin.number":"88277","destination.number":"59899111111","validity_period":"","schedule_delivery_time":"","protocol_id":0,"esmeClass":0,"priority_flag":3,"registered_delivery":0,"replace_if_present_flag":0,"data":"746573","data_header_indicator":0,"data_coding_scheme":0,"data_length":3,"messagetype":4,"TLV_tag":515,"TLV_length":5,"TLV_value":"ANCEL"}
[2024-05-22 21:28:53.365] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Request to SMSGATEWAY tooks 26.7365ms
[2024-05-22 21:28:53.365] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], HTTP Status Response: 200
[2024-05-22 21:28:53.365] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], RESPONSE BODY: {"Description":"No errors","forwardRef":"3","status":"0"}
[2024-05-22 21:28:53.366] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], this is the code of the response: 0
[2024-05-22 21:28:53.366] [micropagosmessagegateway] [handler] [info] [995a0c3fe125] PETITION[3933c3b37f7e], TelcoGatewayResponse: 0
[2024-05-22 21:28:53.366] [micropagosmessagegateway] [handler] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], this is the data of the validation result {PassedValidation:true ValidationMessage: UserDomainResult:{UserDomainResult:Micropagos UserDomainMessage:the domain name is: Micropagos UserDomainError:<nil>} PortabilidadResult:{PassedPortabilidad:true PortabilidadMessage:OK} FilterResult:{IsFilter:false FilterMessage: Error:<nil>} WhenSendResult:{SendNow:true SendMessage:message is going to send now} SmsgatewayResult:{PassedSmsgateway:true SmsgatewayResult:0 SmsgatewayDescription:No errors}}
[2024-05-22 21:28:53.366] [micropagosmessagegateway] [handler] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], No error time to insert the message into the database
[2024-05-22 21:28:53.366] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], startin to prepare the call to databasegateway to INSERT message
[2024-05-22 21:28:53.366] [micropagosmessagegateway] [client] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], starting to prepare the URL and the body of the petition
[2024-05-22 21:28:53.366] [micropagosmessagegateway] [client] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], petition http created
[2024-05-22 21:28:53.366] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Final url : http://localhost:2121/insertMessage/3933c3b37f7e
[2024-05-22 21:28:53.367] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Final BODY: {"type":"OutboundSMS","content":"tes","mobile_number":"99111111","mobile_country_iso_code":"UY","short_number":"88277","telco":"ANCEL","created":"2024-05-22T21:28:41.6118898-05:00","session_action":"NONE","processed":"2024-05-22T21:28:53.3667066-05:00","session_application_name":"micropagos 2.0","sendafter":"","sendbefore":"","sent":"2024-05-22T21:28:53.3661854-05:00","status":"SENT","origin_name":""}
[2024-05-22 21:28:53.774] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], Request to database tooks 407.7229ms
[2024-05-22 21:28:53.774] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], HTTP Status Response: 200
[2024-05-22 21:28:53.774] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], RESPONSE BODY: {"result":0,"message":"el mensaje se inserto correctamente con el id19719201","Id":19719201}
[2024-05-22 21:28:53.775] [micropagosmessagegateway] [client] [info] [995a0c3fe125] PETITION[3933c3b37f7e], this is the id of the message in the database: 19719201
[2024-05-22 21:28:53.775] [micropagosmessagegateway] [handler] [trace] [995a0c3fe125] PETITION[3933c3b37f7e], transaction with id 19719201 inserted correctly!
[2024-05-22 21:28:53.775] [micropagosmessagegateway] [handler] [trace] [995a0c3fe125] PETITION[3933c3b37f7e] Ended
[2024-05-22 21:28:53.775] [micropagosmessagegateway] [middleware] [info] [995a0c3fe125] Request took 12.1646664s
[2024-05-22 21:30:01.383] [micropagosmessagegateway] [middleware] [info] [1b7a032b29b0] New petition received
[2024-05-22 21:30:01.383] [micropagosmessagegateway] [middleware] [trace] [1b7a032b29b0] url: /ws/SendMessageService, method: POST
[2024-05-22 21:30:01.384] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:30:01.384] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:30:01.415] [micropagosmessagegateway] [middleware] [info] [1b7a032b29b0] Request took 30.9634ms
[2024-05-22 21:30:27.533] [micropagosmessagegateway] [middleware] [info] [441cbaabd833] New petition received
[2024-05-22 21:30:27.534] [micropagosmessagegateway] [middleware] [trace] [441cbaabd833] url: /ws/SendMessageService, method: POST
[2024-05-22 21:30:27.534] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:30:27.534] [micropagosmessagegateway] [middleware] [info] [] starting Authentication proccess for eaguerre
[2024-05-22 21:30:27.534] [micropagosmessagegateway] [middleware] [error] [] Invalid username or password
[2024-05-22 21:30:27.542] [micropagosmessagegateway] [middleware] [info] [441cbaabd833] Request took 8.1165ms
[2024-05-22 21:36:19.994] [not_specified] [config] [info] [] starting to get the config struct 
[2024-05-22 21:36:19.994] [Gconfiguration] [] [info] [] starting gconfiguration Versión:%!(EXTRA string=1.0.0)
[2024-05-22 21:36:19.995] [Gconfiguration] [] [info] [] ubication of the configurationfile C:\golang\proyectos\micropagosmessagateway\cmd\configuration\config.json
[2024-05-22 21:36:19.999] [Gconfiguration] [] [info] [] ending to get the configuration
[2024-05-22 21:36:19.999] [Gconfiguration] [] [trace] [] this is the data that we have in the configuration {"getUserDomain":{"url":"http://localhost:2121/userdomain","method":"GET","timeout":40000},"server_port":":1000","getFilterDatabase":{"url":"http://localhost:2121/filter","method":"GET","timeout":40000},"inserMessage":{"url":"http://localhost:2121/insertMessage","method":"POST","timeout":40000},"smsGateway":{"url":"http://localhost:1111/","method":"POST","timeout":40000},"portabilidad":{"url":"http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/","method":"POST","timeout":40000,"portabilidad_user":"inswitch","portabilidad_password":"1234"},"max_message_length":500,"mobil_regex":"^09\\d{7}$","raven":[{"name":"testing","sendMail":false,"shortNumber":88277},{"name":"pronto","sendMail":false,"shortNumber":17800},{"name":"oca","sendMail":false,"shortNumber":1730},{"name":"creditel","sendMail":false,"shortNumber":4242},{"name":"itau","sendMail":false,"shortNumber":1784},{"name":"facilcel","sendMail":false,"shortNumber":3031},{"name":"santander","sendMail":false,"shortNumber":1320},{"name":"creditosDirectos","sendMail":false,"shortNumber":18919},{"name":"firstdata","sendMail":false,"shortNumber":2992},{"name":"Micropagos","sendMail":false,"shortNumber":88277}]}
[2024-05-22 21:36:20.000] [micropagosmessagegateway] [main] [info] [] starting micropagos message gateway version: 1.0.0
[2024-05-22 21:36:20.000] [micropagosmessagegateway] [server] [info] [] Starting server on address: :1000
[2024-05-22 21:36:28.576] [micropagosmessagegateway] [middleware] [info] [77c97e0d2721] New petition received
[2024-05-22 21:36:28.577] [micropagosmessagegateway] [middleware] [trace] [77c97e0d2721] url: /ws/SendMessageService, method: POST
[2024-05-22 21:36:28.577] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:36:28.578] [micropagosmessagegateway] [middleware] [info] [] starting Authentication proccess for eaguerre
[2024-05-22 21:36:28.578] [micropagosmessagegateway] [middleware] [error] [] Invalid username or password
[2024-05-22 21:36:28.586] [micropagosmessagegateway] [middleware] [info] [77c97e0d2721] Request took 9.0062ms
[2024-05-22 21:36:33.845] [micropagosmessagegateway] [middleware] [info] [ab22191a32d8] New petition received
[2024-05-22 21:36:33.846] [micropagosmessagegateway] [middleware] [trace] [ab22191a32d8] url: /, method: GET
[2024-05-22 21:36:33.846] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:36:33.846] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:36:33.846] [micropagosmessagegateway] [handlerWelcome] [info] [ab22191a32d8] starting handler welcome
[2024-05-22 21:36:33.846] [micropagosmessagegateway] [middleware] [info] [ab22191a32d8] Request took 527.9µs
[2024-05-22 21:36:35.505] [micropagosmessagegateway] [middleware] [info] [56465bbdb553] New petition received
[2024-05-22 21:36:35.506] [micropagosmessagegateway] [middleware] [trace] [56465bbdb553] url: /, method: GET
[2024-05-22 21:36:35.506] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:36:35.506] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:36:35.506] [micropagosmessagegateway] [handlerWelcome] [info] [56465bbdb553] starting handler welcome
[2024-05-22 21:36:35.506] [micropagosmessagegateway] [middleware] [info] [56465bbdb553] Request took 526.4µs
[2024-05-22 21:36:37.754] [micropagosmessagegateway] [middleware] [info] [5d8eddbfd13b] New petition received
[2024-05-22 21:36:37.754] [micropagosmessagegateway] [middleware] [trace] [5d8eddbfd13b] url: /, method: GET
[2024-05-22 21:36:37.754] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:36:37.754] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:36:37.754] [micropagosmessagegateway] [handlerWelcome] [info] [5d8eddbfd13b] starting handler welcome
[2024-05-22 21:36:37.754] [micropagosmessagegateway] [middleware] [info] [5d8eddbfd13b] Request took 0s
[2024-05-22 21:38:49.370] [micropagosmessagegateway] [middleware] [info] [667a17b934d9] New petition received
[2024-05-22 21:38:49.370] [micropagosmessagegateway] [middleware] [trace] [667a17b934d9] url: /ws/SendMessageService, method: POST
[2024-05-22 21:38:49.370] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:38:49.370] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:38:49.403] [micropagosmessagegateway] [middleware] [info] [667a17b934d9] Request took 32.3504ms
[2024-05-22 21:39:12.759] [micropagosmessagegateway] [middleware] [info] [2092365a509c] New petition received
[2024-05-22 21:39:12.759] [micropagosmessagegateway] [middleware] [trace] [2092365a509c] url: /ws/SendMessageService, method: POST
[2024-05-22 21:39:12.759] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:39:12.759] [micropagosmessagegateway] [middleware] [info] [] starting Authentication proccess for eaguerre
[2024-05-22 21:39:12.759] [micropagosmessagegateway] [middleware] [error] [] Invalid username or password
[2024-05-22 21:39:12.767] [micropagosmessagegateway] [middleware] [info] [2092365a509c] Request took 8.6045ms
[2024-05-22 21:39:13.740] [micropagosmessagegateway] [middleware] [info] [519cf830ec5d] New petition received
[2024-05-22 21:39:13.740] [micropagosmessagegateway] [middleware] [trace] [519cf830ec5d] url: /ws/SendMessageService, method: POST
[2024-05-22 21:39:13.740] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:39:13.740] [micropagosmessagegateway] [middleware] [info] [] starting Authentication proccess for eaguerre
[2024-05-22 21:39:13.741] [micropagosmessagegateway] [middleware] [error] [] Invalid username or password
[2024-05-22 21:39:13.748] [micropagosmessagegateway] [middleware] [info] [519cf830ec5d] Request took 7.9487ms
[2024-05-22 21:39:48.089] [micropagosmessagegateway] [middleware] [info] [dc92ef4a0754] New petition received
[2024-05-22 21:39:48.090] [micropagosmessagegateway] [middleware] [trace] [dc92ef4a0754] url: /ws/SendMessageService, method: POST
[2024-05-22 21:39:48.090] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:39:48.090] [micropagosmessagegateway] [middleware] [info] [] starting Authentication proccess for eaguerre
[2024-05-22 21:39:48.090] [micropagosmessagegateway] [middleware] [info] [] the user:eaguerre is already authenticated
[2024-05-22 21:39:48.090] [micropagosmessagegateway] [handler] [info] [dc92ef4a0754] starting to sendMessage method to the user eaguerre
[2024-05-22 21:39:48.090] [micropagosmessagegateway] [handler] [debug] [dc92ef4a0754] starting to get the xml
[2024-05-22 21:39:48.090] [micropagosmessagegateway] [handler] [trace] [dc92ef4a0754] this is the body of the petition <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.ravenws.micropagos.com.uy/">\n   <soapenv:Header/>\n   <soapenv:Body>\n      <web:send>\n         <!--Optional:-->\n         <mobile>099111111</mobile>\n         <!--Optional:-->\n         <message>tes</message>\n         <useOriginName></useOriginName>\n      </web:send>\n   </soapenv:Body>\n</soapenv:Envelope>
[2024-05-22 21:39:48.091] [micropagosmessagegateway] [handler] [info] [dc92ef4a0754] method: send indivuald message, starting to validate the petition 
[2024-05-22 21:39:48.091] [micropagosmessagegateway] [handler] [debug] [dc92ef4a0754] PETITION[8c1abec2aebe] this is the data that we are going to validate : Mobile: 099111111, Message: tes, 
[2024-05-22 21:39:48.091] [micropagosmessagegateway] [validation] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], starting to validate a regex expression
[2024-05-22 21:39:48.091] [micropagosmessagegateway] [validation] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], regex expression: ^09\d{7}$ value to validate 099111111
[2024-05-22 21:39:48.091] [micropagosmessagegateway] [validation] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], value match with the regex expression
[2024-05-22 21:39:48.091] [micropagosmessagegateway] [validation] [debug] [dc92ef4a0754] starting to format number
[2024-05-22 21:39:48.092] [micropagosmessagegateway] [handler] [debug] [dc92ef4a0754] PETITION[8c1abec2aebe], the mobile number pass the regex expression and the formatted number is 59899111111
[2024-05-22 21:39:48.092] [micropagosmessagegateway] [validation] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], starting to validate th message length
[2024-05-22 21:39:48.093] [micropagosmessagegateway] [validation] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], max length: 500 message to validate tes
[2024-05-22 21:39:48.093] [micropagosmessagegateway] [validation] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], using normal message
[2024-05-22 21:39:48.093] [micropagosmessagegateway] [handler] [debug] [dc92ef4a0754] PETITION[8c1abec2aebe], the message pass the validateMessageLength this is the final message: tes
[2024-05-22 21:39:48.093] [micropagosmessagegateway] [handler] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], checking short number
[2024-05-22 21:39:48.093] [micropagosmessagegateway] [handler] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], using short number of the config
[2024-05-22 21:39:48.094] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], startin to prepare the call to databasegateway GetUserDomain
[2024-05-22 21:39:48.094] [micropagosmessagegateway] [client] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], starting to prepare the URL to the petition
[2024-05-22 21:39:48.094] [micropagosmessagegateway] [client] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], petition http created
[2024-05-22 21:39:48.094] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Final url : http://localhost:2121/userdomain/eaguerre/8c1abec2aebe
[2024-05-22 21:39:56.215] [micropagosmessagegateway] [middleware] [info] [8b2eed95f35e] New petition received
[2024-05-22 21:39:56.215] [micropagosmessagegateway] [middleware] [trace] [8b2eed95f35e] url: /ws/SendMessageService, method: POST
[2024-05-22 21:39:56.215] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:39:56.215] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:39:56.223] [micropagosmessagegateway] [middleware] [info] [8b2eed95f35e] Request took 7.911ms
[2024-05-22 21:39:58.963] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Request to Micropagos_database tooks 10.8686532s
[2024-05-22 21:39:58.963] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], HTTP Status Response: 200
[2024-05-22 21:39:58.963] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], RESPONSE BODY: {"result":0,"message":"the domain name is: Micropagos","domain":"Micropagos"}
[2024-05-22 21:39:58.963] [micropagosmessagegateway] [client] [debug] [dc92ef4a0754] the user domain is: Micropagos
[2024-05-22 21:39:58.964] [micropagosmessagegateway] [handler] [info] [dc92ef4a0754] PETITION[8c1abec2aebe] this is the originNumber 88277
[2024-05-22 21:39:58.964] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], startin to prepare the call to portability whit number 59899111111
[2024-05-22 21:39:58.964] [micropagosmessagegateway] [client] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], petition http created
[2024-05-22 21:39:58.964] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Final url : http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/
[2024-05-22 21:39:58.964] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Final BODY: <Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us">\n	<soapenv:Header></soapenv:Header>\n	<soapenv:Body>\n		<web:getTelco>\n			<web:msisdn>59899111111</web:msisdn>\n		</web:getTelco>\n	</soapenv:Body>\n</Envelope>
[2024-05-22 21:39:59.602] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Request to PORTABILIDAD tooks 637.8026ms
[2024-05-22 21:39:59.603] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], HTTP Status Response: 200
[2024-05-22 21:39:59.603] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], RESPONSE BODY: <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us" xmlns:xsd="http://user.dto.webservices.push.inswitch.us/xsd"><soapenv:Header/><soapenv:Body><web:getTelcoResponse><web:return><xsd:telcoCode>1</xsd:telcoCode><xsd:telcoName>ANCEL</xsd:telcoName></web:return></web:getTelcoResponse></soapenv:Body></soapenv:Envelope>
[2024-05-22 21:39:59.604] [micropagosmessagegateway] [handler] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], TELCONAME: ANCEL
[2024-05-22 21:39:59.604] [micropagosmessagegateway] [handler] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], starting to validate if the the origin number and destiny are filters
[2024-05-22 21:39:59.604] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], startin to prepare the call to databasegateway checking FILTER
[2024-05-22 21:39:59.604] [micropagosmessagegateway] [client] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], starting to prepare the URL to the petition
[2024-05-22 21:39:59.605] [micropagosmessagegateway] [client] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], petition http created
[2024-05-22 21:39:59.605] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Final url : http://localhost:2121/filter/99111111/88277/8c1abec2aebe
[2024-05-22 21:40:00.011] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Request to database tooks 405.57ms
[2024-05-22 21:40:00.012] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], HTTP Status Response: 200
[2024-05-22 21:40:00.012] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], RESPONSE BODY: {"result":false,"message":""}
[2024-05-22 21:40:00.012] [micropagosmessagegateway] [client] [debug] [dc92ef4a0754] the filter message response was: shortnumber and destinity are filter? : false
[2024-05-22 21:40:00.012] [micropagosmessagegateway] [handler] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], starting to check send after and send before data
[2024-05-22 21:40:00.013] [micropagosmessagegateway] [validation] [debug] [dc92ef4a0754] PETITION[8c1abec2aebe], checking send after and send before 
[2024-05-22 21:40:00.013] [micropagosmessagegateway] [validation] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe] senfafter or sendbefore are empity or didnt match with the expected fomat HH:mm
[2024-05-22 21:40:00.013] [micropagosmessagegateway] [validation] [debug] [dc92ef4a0754] PETITION[8c1abec2aebe]: sendBefore:  sendAfter: 
[2024-05-22 21:40:00.013] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], startin to prepare the call to telcoGateway
[2024-05-22 21:40:00.013] [micropagosmessagegateway] [client] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], starting to prepare the body of the petition
[2024-05-22 21:40:00.013] [micropagosmessagegateway] [client] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], petition http created
[2024-05-22 21:40:00.013] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Final url : http://localhost:1111/
[2024-05-22 21:40:00.013] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Final BODY: {"utfi":"8c1abec2aebe","serviceType":"","origin.number":"88277","destination.number":"59899111111","validity_period":"","schedule_delivery_time":"","protocol_id":0,"esmeClass":0,"priority_flag":3,"registered_delivery":0,"replace_if_present_flag":0,"data":"746573","data_header_indicator":0,"data_coding_scheme":0,"data_length":3,"messagetype":4,"TLV_tag":515,"TLV_length":5,"TLV_value":"ANCEL"}
[2024-05-22 21:40:00.034] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Request to SMSGATEWAY tooks 20.4866ms
[2024-05-22 21:40:00.034] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], HTTP Status Response: 200
[2024-05-22 21:40:00.035] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], RESPONSE BODY: {"Description":"No errors","forwardRef":"3","status":"0"}
[2024-05-22 21:40:00.035] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], this is the code of the response: 0
[2024-05-22 21:40:00.035] [micropagosmessagegateway] [handler] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], TelcoGatewayResponse: 0
[2024-05-22 21:40:00.035] [micropagosmessagegateway] [handler] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], this is the data of the validation result {PassedValidation:true ValidationMessage: UserDomainResult:{UserDomainResult:Micropagos UserDomainMessage:the domain name is: Micropagos UserDomainError:<nil>} PortabilidadResult:{PassedPortabilidad:true PortabilidadMessage:OK} FilterResult:{IsFilter:false FilterMessage: Error:<nil>} WhenSendResult:{SendNow:true SendMessage:message is going to send now} SmsgatewayResult:{PassedSmsgateway:true SmsgatewayResult:0 SmsgatewayDescription:No errors}}
[2024-05-22 21:40:00.035] [micropagosmessagegateway] [handler] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], No error time to insert the message into the database
[2024-05-22 21:40:00.035] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], startin to prepare the call to databasegateway to INSERT message
[2024-05-22 21:40:00.041] [micropagosmessagegateway] [client] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], starting to prepare the URL and the body of the petition
[2024-05-22 21:40:00.042] [micropagosmessagegateway] [client] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], petition http created
[2024-05-22 21:40:00.042] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Final url : http://localhost:2121/insertMessage/8c1abec2aebe
[2024-05-22 21:40:00.042] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Final BODY: {"type":"OutboundSMS","content":"tes","mobile_number":"99111111","mobile_country_iso_code":"UY","short_number":"88277","telco":"ANCEL","created":"2024-05-22T21:39:48.0912879-05:00","session_action":"NONE","processed":"2024-05-22T21:40:00.0416081-05:00","session_application_name":"micropagos 2.0","sendafter":"","sendbefore":"","sent":"2024-05-22T21:40:00.0352086-05:00","status":"SENT","origin_name":""}
[2024-05-22 21:40:00.452] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], Request to database tooks 409.5533ms
[2024-05-22 21:40:00.452] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], HTTP Status Response: 200
[2024-05-22 21:40:00.452] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], RESPONSE BODY: {"result":0,"message":"el mensaje se inserto correctamente con el id19719202","Id":19719202}
[2024-05-22 21:40:00.452] [micropagosmessagegateway] [client] [info] [dc92ef4a0754] PETITION[8c1abec2aebe], this is the id of the message in the database: 19719202
[2024-05-22 21:40:00.452] [micropagosmessagegateway] [handler] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe], transaction with id 19719202 inserted correctly!
[2024-05-22 21:40:00.452] [micropagosmessagegateway] [handler] [trace] [dc92ef4a0754] PETITION[8c1abec2aebe] Ended
[2024-05-22 21:40:00.452] [micropagosmessagegateway] [middleware] [info] [dc92ef4a0754] Request took 12.3625167s
[2024-05-22 21:40:09.297] [micropagosmessagegateway] [middleware] [info] [720900ce550a] New petition received
[2024-05-22 21:40:09.297] [micropagosmessagegateway] [middleware] [trace] [720900ce550a] url: /ws/SendMessageService, method: POST
[2024-05-22 21:40:09.297] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:40:09.297] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:40:09.311] [micropagosmessagegateway] [middleware] [info] [720900ce550a] Request took 13.7073ms
[2024-05-22 21:40:13.086] [micropagosmessagegateway] [middleware] [info] [7e88f8777040] New petition received
[2024-05-22 21:40:13.087] [micropagosmessagegateway] [middleware] [trace] [7e88f8777040] url: /ws/SendMessageService, method: POST
[2024-05-22 21:40:13.087] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:40:13.087] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:40:13.097] [micropagosmessagegateway] [middleware] [info] [7e88f8777040] Request took 9.8394ms
[2024-05-22 21:40:14.231] [micropagosmessagegateway] [middleware] [info] [87a4829a93d8] New petition received
[2024-05-22 21:40:14.232] [micropagosmessagegateway] [middleware] [trace] [87a4829a93d8] url: /ws/SendMessageService, method: POST
[2024-05-22 21:40:14.232] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:40:14.232] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:40:14.239] [micropagosmessagegateway] [middleware] [info] [87a4829a93d8] Request took 7.4028ms
[2024-05-22 21:40:15.668] [micropagosmessagegateway] [middleware] [info] [7e7a40513471] New petition received
[2024-05-22 21:40:15.668] [micropagosmessagegateway] [middleware] [trace] [7e7a40513471] url: /ws/SendMessageService, method: POST
[2024-05-22 21:40:15.668] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:40:15.668] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:40:15.683] [micropagosmessagegateway] [middleware] [info] [7e7a40513471] Request took 14.6881ms
[2024-05-22 21:44:16.644] [not_specified] [config] [info] [] starting to get the config struct 
[2024-05-22 21:44:16.644] [Gconfiguration] [] [info] [] starting gconfiguration Versión:%!(EXTRA string=1.0.0)
[2024-05-22 21:44:16.644] [Gconfiguration] [] [info] [] ubication of the configurationfile C:\golang\proyectos\micropagosmessagateway\cmd\configuration\config.json
[2024-05-22 21:44:16.649] [Gconfiguration] [] [info] [] ending to get the configuration
[2024-05-22 21:44:16.649] [Gconfiguration] [] [trace] [] this is the data that we have in the configuration {"getUserDomain":{"url":"http://localhost:2121/userdomain","method":"GET","timeout":40000},"server_port":":1000","getFilterDatabase":{"url":"http://localhost:2121/filter","method":"GET","timeout":40000},"inserMessage":{"url":"http://localhost:2121/insertMessage","method":"POST","timeout":40000},"smsGateway":{"url":"http://localhost:1111/","method":"POST","timeout":40000},"portabilidad":{"url":"http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/","method":"POST","timeout":40000,"portabilidad_user":"inswitch","portabilidad_password":"1234"},"max_message_length":500,"mobil_regex":"^09\\d{7}$","raven":[{"name":"testing","sendMail":false,"shortNumber":88277},{"name":"pronto","sendMail":false,"shortNumber":17800},{"name":"oca","sendMail":false,"shortNumber":1730},{"name":"creditel","sendMail":false,"shortNumber":4242},{"name":"itau","sendMail":false,"shortNumber":1784},{"name":"facilcel","sendMail":false,"shortNumber":3031},{"name":"santander","sendMail":false,"shortNumber":1320},{"name":"creditosDirectos","sendMail":false,"shortNumber":18919},{"name":"firstdata","sendMail":false,"shortNumber":2992},{"name":"Micropagos","sendMail":false,"shortNumber":88277}]}
[2024-05-22 21:44:16.649] [micropagosmessagegateway] [main] [info] [] starting micropagos message gateway version: 1.0.0
[2024-05-22 21:44:16.649] [micropagosmessagegateway] [server] [info] [] Starting server on address: :1000
[2024-05-22 21:44:39.116] [micropagosmessagegateway] [middleware] [info] [6ff9dcaa9ca9] New petition received
[2024-05-22 21:44:39.117] [micropagosmessagegateway] [middleware] [trace] [6ff9dcaa9ca9] url: /, method: GET
[2024-05-22 21:44:39.117] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:44:39.117] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:44:39.119] [micropagosmessagegateway] [handlerWelcome] [info] [6ff9dcaa9ca9] starting handler welcome
[2024-05-22 21:44:39.120] [micropagosmessagegateway] [middleware] [info] [6ff9dcaa9ca9] Request took 2.9151ms
[2024-05-22 21:44:45.388] [micropagosmessagegateway] [middleware] [info] [8e0d72212afb] New petition received
[2024-05-22 21:44:45.388] [micropagosmessagegateway] [middleware] [trace] [8e0d72212afb] url: /ws/SendMessageService, method: POST
[2024-05-22 21:44:45.388] [micropagosmessagegateway] [middleware] [info] [] starting to validate the ahutentication
[2024-05-22 21:44:45.389] [micropagosmessagegateway] [middleware] [error] [] missing authorization header
[2024-05-22 21:44:45.488] [micropagosmessagegateway] [middleware] [info] [8e0d72212afb] Request took 99.523ms
[2024-05-22 21:46:46.114] [not_specified] [config] [info] [] starting to get the config struct 
[2024-05-22 21:46:46.115] [Gconfiguration] [] [info] [] starting gconfiguration Versión:%!(EXTRA string=1.0.0)
[2024-05-22 21:46:46.115] [Gconfiguration] [] [info] [] ubication of the configurationfile C:\golang\proyectos\micropagosmessagateway\cmd\configuration\config.json
[2024-05-22 21:46:46.121] [Gconfiguration] [] [info] [] ending to get the configuration
[2024-05-22 21:46:46.121] [Gconfiguration] [] [trace] [] this is the data that we have in the configuration {"getUserDomain":{"url":"http://localhost:2121/userdomain","method":"GET","timeout":40000},"server_port":":1000","getFilterDatabase":{"url":"http://localhost:2121/filter","method":"GET","timeout":40000},"inserMessage":{"url":"http://localhost:2121/insertMessage","method":"POST","timeout":40000},"smsGateway":{"url":"http://localhost:1111/","method":"POST","timeout":40000},"portabilidad":{"url":"http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/","method":"POST","timeout":40000,"portabilidad_user":"inswitch","portabilidad_password":"1234"},"max_message_length":500,"mobil_regex":"^09\\d{7}$","raven":[{"name":"testing","sendMail":false,"shortNumber":88277},{"name":"pronto","sendMail":false,"shortNumber":17800},{"name":"oca","sendMail":false,"shortNumber":1730},{"name":"creditel","sendMail":false,"shortNumber":4242},{"name":"itau","sendMail":false,"shortNumber":1784},{"name":"facilcel","sendMail":false,"shortNumber":3031},{"name":"santander","sendMail":false,"shortNumber":1320},{"name":"creditosDirectos","sendMail":false,"shortNumber":18919},{"name":"firstdata","sendMail":false,"shortNumber":2992},{"name":"Micropagos","sendMail":false,"shortNumber":88277}]}
[2024-05-22 21:46:46.122] [micropagosmessagegateway] [main] [info] [] starting micropagos message gateway version: 1.0.0
[2024-05-22 21:46:46.122] [micropagosmessagegateway] [server] [info] [] Starting server on address: :1000
[2024-05-22 21:46:49.503] [micropagosmessagegateway] [middleware] [info] [bd11af19d5c3] New petition received
[2024-05-22 21:46:49.503] [micropagosmessagegateway] [middleware] [trace] [bd11af19d5c3] url: /, method: GET
[2024-05-22 21:46:49.503] [micropagosmessagegateway] [middleware] [info] [bd11af19d5c3] starting to validate the ahutentication
[2024-05-22 21:46:49.504] [micropagosmessagegateway] [middleware] [error] [bd11af19d5c3] missing authorization header
[2024-05-22 21:46:49.504] [micropagosmessagegateway] [handlerWelcome] [info] [bd11af19d5c3] starting handler welcome
[2024-05-22 21:46:49.504] [micropagosmessagegateway] [middleware] [info] [bd11af19d5c3] Request took 504.6µs
[2024-05-22 21:47:01.404] [micropagosmessagegateway] [middleware] [info] [7a11c5623b5a] New petition received
[2024-05-22 21:47:01.404] [micropagosmessagegateway] [middleware] [trace] [7a11c5623b5a] url: /ws/SendMessageService, method: POST
[2024-05-22 21:47:01.404] [micropagosmessagegateway] [middleware] [info] [7a11c5623b5a] starting to validate the ahutentication
[2024-05-22 21:47:01.404] [micropagosmessagegateway] [middleware] [error] [7a11c5623b5a] missing authorization header
[2024-05-22 21:47:01.413] [micropagosmessagegateway] [middleware] [info] [7a11c5623b5a] Request took 8.3693ms
[2024-05-22 21:47:32.854] [micropagosmessagegateway] [middleware] [info] [e51d60c49a6f] New petition received
[2024-05-22 21:47:32.854] [micropagosmessagegateway] [middleware] [trace] [e51d60c49a6f] url: /, method: GET
[2024-05-22 21:47:32.855] [micropagosmessagegateway] [middleware] [info] [e51d60c49a6f] starting to validate the ahutentication
[2024-05-22 21:47:32.855] [micropagosmessagegateway] [middleware] [error] [e51d60c49a6f] missing authorization header
[2024-05-22 21:47:32.855] [micropagosmessagegateway] [handlerWelcome] [info] [e51d60c49a6f] starting handler welcome
[2024-05-22 21:47:32.855] [micropagosmessagegateway] [middleware] [info] [e51d60c49a6f] Request took 0s
[2024-05-22 21:47:56.522] [micropagosmessagegateway] [middleware] [info] [9da61bdda4ff] New petition received
[2024-05-22 21:47:56.522] [micropagosmessagegateway] [middleware] [trace] [9da61bdda4ff] url: /, method: GET
[2024-05-22 21:47:56.523] [micropagosmessagegateway] [middleware] [info] [9da61bdda4ff] starting to validate the ahutentication
[2024-05-22 21:47:56.523] [micropagosmessagegateway] [middleware] [info] [9da61bdda4ff] starting Authentication proccess for eaguerre
[2024-05-22 21:47:56.523] [micropagosmessagegateway] [middleware] [info] [9da61bdda4ff] the user:eaguerre is already authenticated
[2024-05-22 21:47:56.523] [micropagosmessagegateway] [handlerWelcome] [info] [9da61bdda4ff] starting handler welcome
[2024-05-22 21:47:56.523] [micropagosmessagegateway] [middleware] [info] [9da61bdda4ff] Request took 0s
[2024-05-22 21:49:48.772] [micropagosmessagegateway] [middleware] [info] [fc5f3e2aa081] New petition received
[2024-05-22 21:49:48.773] [micropagosmessagegateway] [middleware] [trace] [fc5f3e2aa081] url: /ws/SendMessageService, method: POST
[2024-05-22 21:49:48.773] [micropagosmessagegateway] [middleware] [info] [fc5f3e2aa081] starting to validate the ahutentication
[2024-05-22 21:49:48.773] [micropagosmessagegateway] [middleware] [info] [fc5f3e2aa081] starting Authentication proccess for eaguerre
[2024-05-22 21:49:48.773] [micropagosmessagegateway] [middleware] [info] [fc5f3e2aa081] the user:eaguerre is already authenticated
[2024-05-22 21:49:48.773] [micropagosmessagegateway] [handler] [info] [fc5f3e2aa081] starting to sendMessage method to the user eaguerre
[2024-05-22 21:49:48.773] [micropagosmessagegateway] [handler] [debug] [fc5f3e2aa081] starting to get the xml
[2024-05-22 21:49:48.773] [micropagosmessagegateway] [handler] [trace] [fc5f3e2aa081] this is the body of the petition <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.ravenws.micropagos.com.uy/">\n   <soapenv:Header/>\n   <soapenv:Body>\n      <web:send>\n         <!--Optional:-->\n         <mobile>099111111</mobile>\n         <!--Optional:-->\n         <message>tes</message>\n         <useOriginName></useOriginName>\n      </web:send>\n   </soapenv:Body>\n</soapenv:Envelope>
[2024-05-22 21:49:48.774] [micropagosmessagegateway] [handler] [info] [fc5f3e2aa081] method: send indivuald message, starting to validate the petition 
[2024-05-22 21:49:48.774] [micropagosmessagegateway] [handler] [debug] [fc5f3e2aa081] PETITION[70b3c10f0da8] this is the data that we are going to validate : Mobile: 099111111, Message: tes, 
[2024-05-22 21:49:48.774] [micropagosmessagegateway] [validation] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], starting to validate a regex expression
[2024-05-22 21:49:48.774] [micropagosmessagegateway] [validation] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], regex expression: ^09\d{7}$ value to validate 099111111
[2024-05-22 21:49:48.774] [micropagosmessagegateway] [validation] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], value match with the regex expression
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [validation] [debug] [fc5f3e2aa081] starting to format number
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [handler] [debug] [fc5f3e2aa081] PETITION[70b3c10f0da8], the mobile number pass the regex expression and the formatted number is 59899111111
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [validation] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], starting to validate th message length
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [validation] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], max length: 500 message to validate tes
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [validation] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], using normal message
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [handler] [debug] [fc5f3e2aa081] PETITION[70b3c10f0da8], the message pass the validateMessageLength this is the final message: tes
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [handler] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], checking short number
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [handler] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], using short number of the config
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], startin to prepare the call to databasegateway GetUserDomain
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [client] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], starting to prepare the URL to the petition
[2024-05-22 21:49:48.775] [micropagosmessagegateway] [client] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], petition http created
[2024-05-22 21:49:48.776] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Final url : http://localhost:2121/userdomain/eaguerre/70b3c10f0da8
[2024-05-22 21:49:59.644] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Request to Micropagos_database tooks 10.8679549s
[2024-05-22 21:49:59.644] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], HTTP Status Response: 200
[2024-05-22 21:49:59.644] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], RESPONSE BODY: {"result":0,"message":"the domain name is: Micropagos","domain":"Micropagos"}
[2024-05-22 21:49:59.644] [micropagosmessagegateway] [client] [debug] [fc5f3e2aa081] the user domain is: Micropagos
[2024-05-22 21:49:59.645] [micropagosmessagegateway] [handler] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8] this is the originNumber 88277
[2024-05-22 21:49:59.645] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], startin to prepare the call to portability whit number 59899111111
[2024-05-22 21:49:59.645] [micropagosmessagegateway] [client] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], petition http created
[2024-05-22 21:49:59.645] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Final url : http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/
[2024-05-22 21:49:59.645] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Final BODY: <Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us">\n	<soapenv:Header></soapenv:Header>\n	<soapenv:Body>\n		<web:getTelco>\n			<web:msisdn>59899111111</web:msisdn>\n		</web:getTelco>\n	</soapenv:Body>\n</Envelope>
[2024-05-22 21:50:00.085] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Request to PORTABILIDAD tooks 439.6065ms
[2024-05-22 21:50:00.086] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], HTTP Status Response: 200
[2024-05-22 21:50:00.086] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], RESPONSE BODY: <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us" xmlns:xsd="http://user.dto.webservices.push.inswitch.us/xsd"><soapenv:Header/><soapenv:Body><web:getTelcoResponse><web:return><xsd:telcoCode>1</xsd:telcoCode><xsd:telcoName>ANCEL</xsd:telcoName></web:return></web:getTelcoResponse></soapenv:Body></soapenv:Envelope>
[2024-05-22 21:50:00.087] [micropagosmessagegateway] [handler] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], TELCONAME: ANCEL
[2024-05-22 21:50:00.087] [micropagosmessagegateway] [handler] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], starting to validate if the the origin number and destiny are filters
[2024-05-22 21:50:00.087] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], startin to prepare the call to databasegateway checking FILTER
[2024-05-22 21:50:00.087] [micropagosmessagegateway] [client] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], starting to prepare the URL to the petition
[2024-05-22 21:50:00.087] [micropagosmessagegateway] [client] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], petition http created
[2024-05-22 21:50:00.087] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Final url : http://localhost:2121/filter/99111111/88277/70b3c10f0da8
[2024-05-22 21:50:00.494] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Request to database tooks 406.9635ms
[2024-05-22 21:50:00.494] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], HTTP Status Response: 200
[2024-05-22 21:50:00.495] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], RESPONSE BODY: {"result":false,"message":""}
[2024-05-22 21:50:00.495] [micropagosmessagegateway] [client] [debug] [fc5f3e2aa081] the filter message response was: shortnumber and destinity are filter? : false
[2024-05-22 21:50:00.495] [micropagosmessagegateway] [handler] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], starting to check send after and send before data
[2024-05-22 21:50:00.495] [micropagosmessagegateway] [validation] [debug] [fc5f3e2aa081] PETITION[70b3c10f0da8], checking send after and send before 
[2024-05-22 21:50:00.495] [micropagosmessagegateway] [validation] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8] senfafter or sendbefore are empity or didnt match with the expected fomat HH:mm
[2024-05-22 21:50:00.495] [micropagosmessagegateway] [validation] [debug] [fc5f3e2aa081] PETITION[70b3c10f0da8]: sendBefore:  sendAfter: 
[2024-05-22 21:50:00.495] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], startin to prepare the call to telcoGateway
[2024-05-22 21:50:00.495] [micropagosmessagegateway] [client] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], starting to prepare the body of the petition
[2024-05-22 21:50:00.496] [micropagosmessagegateway] [client] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], petition http created
[2024-05-22 21:50:00.496] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Final url : http://localhost:1111/
[2024-05-22 21:50:00.496] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Final BODY: {"utfi":"70b3c10f0da8","serviceType":"","origin.number":"88277","destination.number":"59899111111","validity_period":"","schedule_delivery_time":"","protocol_id":0,"esmeClass":0,"priority_flag":3,"registered_delivery":0,"replace_if_present_flag":0,"data":"746573","data_header_indicator":0,"data_coding_scheme":0,"data_length":3,"messagetype":4,"TLV_tag":515,"TLV_length":5,"TLV_value":"ANCEL"}
[2024-05-22 21:50:00.518] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Request to SMSGATEWAY tooks 22.6504ms
[2024-05-22 21:50:00.519] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], HTTP Status Response: 200
[2024-05-22 21:50:00.519] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], RESPONSE BODY: {"Description":"No errors","forwardRef":"3","status":"0"}
[2024-05-22 21:50:00.519] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], this is the code of the response: 0
[2024-05-22 21:50:00.519] [micropagosmessagegateway] [handler] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], TelcoGatewayResponse: 0
[2024-05-22 21:50:00.519] [micropagosmessagegateway] [handler] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], this is the data of the validation result {PassedValidation:true ValidationMessage: UserDomainResult:{UserDomainResult:Micropagos UserDomainMessage:the domain name is: Micropagos UserDomainError:<nil>} PortabilidadResult:{PassedPortabilidad:true PortabilidadMessage:OK} FilterResult:{IsFilter:false FilterMessage: Error:<nil>} WhenSendResult:{SendNow:true SendMessage:message is going to send now} SmsgatewayResult:{PassedSmsgateway:true SmsgatewayResult:0 SmsgatewayDescription:No errors}}
[2024-05-22 21:50:00.520] [micropagosmessagegateway] [handler] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], No error time to insert the message into the database
[2024-05-22 21:50:00.520] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], startin to prepare the call to databasegateway to INSERT message
[2024-05-22 21:50:00.520] [micropagosmessagegateway] [client] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], starting to prepare the URL and the body of the petition
[2024-05-22 21:50:00.520] [micropagosmessagegateway] [client] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], petition http created
[2024-05-22 21:50:00.520] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Final url : http://localhost:2121/insertMessage/70b3c10f0da8
[2024-05-22 21:50:00.520] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Final BODY: {"type":"OutboundSMS","content":"tes","mobile_number":"99111111","mobile_country_iso_code":"UY","short_number":"88277","telco":"ANCEL","created":"2024-05-22T21:49:48.774504-05:00","session_action":"NONE","processed":"2024-05-22T21:50:00.5202007-05:00","session_application_name":"micropagos 2.0","sendafter":"","sendbefore":"","sent":"2024-05-22T21:50:00.5196762-05:00","status":"SENT","origin_name":""}
[2024-05-22 21:50:00.934] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], Request to database tooks 414.0621ms
[2024-05-22 21:50:00.935] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], HTTP Status Response: 200
[2024-05-22 21:50:00.935] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], RESPONSE BODY: {"result":0,"message":"el mensaje se inserto correctamente con el id19719203","Id":19719203}
[2024-05-22 21:50:00.935] [micropagosmessagegateway] [client] [info] [fc5f3e2aa081] PETITION[70b3c10f0da8], this is the id of the message in the database: 19719203
[2024-05-22 21:50:00.935] [micropagosmessagegateway] [handler] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8], transaction with id 19719203 inserted correctly!
[2024-05-22 21:50:00.935] [micropagosmessagegateway] [handler] [trace] [fc5f3e2aa081] PETITION[70b3c10f0da8] Ended
[2024-05-22 21:50:00.935] [micropagosmessagegateway] [middleware] [info] [fc5f3e2aa081] Request took 12.1624277s
[2024-05-22 22:10:31.811] [not_specified] [config] [info] [] starting to get the config struct 
[2024-05-22 22:10:31.811] [Gconfiguration] [] [info] [] starting gconfiguration Versión:%!(EXTRA string=1.0.0)
[2024-05-22 22:10:31.811] [Gconfiguration] [] [info] [] ubication of the configurationfile C:\golang\proyectos\micropagosmessagateway\cmd\configuration\config.json
[2024-05-22 22:10:31.829] [Gconfiguration] [] [info] [] ending to get the configuration
[2024-05-22 22:10:31.829] [Gconfiguration] [] [trace] [] this is the data that we have in the configuration {"getUserDomain":{"url":"http://localhost:2121/userdomain","method":"GET","timeout":40000},"server_port":":1000","getFilterDatabase":{"url":"http://localhost:2121/filter","method":"GET","timeout":40000},"inserMessage":{"url":"http://localhost:2121/insertMessage","method":"POST","timeout":40000},"smsGateway":{"url":"http://localhost:1111/","method":"POST","timeout":40000},"portabilidad":{"url":"http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/","method":"POST","timeout":40000,"portabilidad_user":"inswitch","portabilidad_password":"1234"},"max_message_length":500,"mobil_regex":"^09\\d{7}$","raven":[{"name":"testing","sendMail":false,"shortNumber":88277},{"name":"pronto","sendMail":false,"shortNumber":17800},{"name":"oca","sendMail":false,"shortNumber":1730},{"name":"creditel","sendMail":false,"shortNumber":4242},{"name":"itau","sendMail":false,"shortNumber":1784},{"name":"facilcel","sendMail":false,"shortNumber":3031},{"name":"santander","sendMail":false,"shortNumber":1320},{"name":"creditosDirectos","sendMail":false,"shortNumber":18919},{"name":"firstdata","sendMail":false,"shortNumber":2992},{"name":"Micropagos","sendMail":false,"shortNumber":88277}]}
[2024-05-22 22:10:31.830] [micropagosmessagegateway] [main] [info] [] starting micropagos message gateway version: 1.0.0
[2024-05-22 22:10:31.830] [micropagosmessagegateway] [server] [info] [] Starting server on address: :1000
[2024-05-22 22:10:56.243] [micropagosmessagegateway] [middleware] [info] [a208286f2240] New petition received
[2024-05-22 22:10:56.244] [micropagosmessagegateway] [middleware] [trace] [a208286f2240] url: /ws/SendMessageService, method: POST
[2024-05-22 22:10:56.244] [micropagosmessagegateway] [middleware] [info] [a208286f2240] starting to validate the ahutentication
[2024-05-22 22:10:56.244] [micropagosmessagegateway] [middleware] [info] [a208286f2240] starting Authentication proccess for eaguerre
[2024-05-22 22:10:56.244] [micropagosmessagegateway] [middleware] [info] [a208286f2240] the user:eaguerre is already authenticated
[2024-05-22 22:10:56.244] [micropagosmessagegateway] [handler] [info] [a208286f2240] starting to sendMessage method to the user eaguerre
[2024-05-22 22:10:56.244] [micropagosmessagegateway] [handler] [debug] [a208286f2240] starting to get the xml
[2024-05-22 22:10:56.244] [micropagosmessagegateway] [handler] [trace] [a208286f2240] this is the body of the petition <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.ravenws.micropagos.com.uy/">\n   <soapenv:Header/>\n   <soapenv:Body>\n      <web:sendMassiveMessages>\n         <!--Optional:-->\n         <massiveMessage>feli</massiveMessage>\n         <!--Zero or more repetitions:-->\n         <mobileMessageDto>\n            <!--Optional:-->\n            <message></message>\n            <!--Optional:-->\n            <mobile>099111111</mobile>\n         </mobileMessageDto>\n         <mobileMessageDto>\n            <!--Optional:-->\n            <message>eqwe</message>\n            <!--Optional:-->\n            <mobile>099111111</mobile>\n         </mobileMessageDto>\n         <!--Optional:-->\n         <sendAfter></sendAfter>\n         <!--Optional:-->\n         <sendBefore></sendBefore>\n         <!--Optional:-->\n         <shortNumber></shortNumber>\n         <useOriginName></useOriginName>\n         <!--Optional:-->\n         <priority></priority>\n      </web:sendMassiveMessages>\n   </soapenv:Body>\n</soapenv:Envelope>
[2024-05-22 22:10:56.245] [micropagosmessagegateway] [handler] [info] [a208286f2240] starting to send massive message
[2024-05-22 22:10:56.245] [micropagosmessagegateway] [handler] [info] [a208286f2240] this is the identifier of this petition 580eb5636663
[2024-05-22 22:10:56.245] [micropagosmessagegateway] [handler] [info] [a208286f2240] this is the identifier of this petition 19882f82a926
[2024-05-22 22:10:56.245] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[580eb5636663], starting to validate the petition #%!v(MISSING)
[2024-05-22 22:10:56.245] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[19882f82a926], starting to validate the petition #%!v(MISSING)
[2024-05-22 22:10:56.246] [micropagosmessagegateway] [handler] [debug] [a208286f2240] PETITION[19882f82a926] this is the data that we are going to validate : Mobile: 099111111, Message: eqwe, MassiveMessage: feli, 
[2024-05-22 22:10:56.246] [micropagosmessagegateway] [handler] [debug] [a208286f2240] PETITION[580eb5636663] this is the data that we are going to validate : Mobile: 099111111, MassiveMessage: feli, 
[2024-05-22 22:10:56.246] [micropagosmessagegateway] [validation] [info] [a208286f2240] PETITION[19882f82a926], starting to validate a regex expression
[2024-05-22 22:10:56.246] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[19882f82a926], regex expression: ^09\d{7}$ value to validate 099111111
[2024-05-22 22:10:56.246] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[19882f82a926], value match with the regex expression
[2024-05-22 22:10:56.246] [micropagosmessagegateway] [validation] [debug] [a208286f2240] starting to format number
[2024-05-22 22:10:56.246] [micropagosmessagegateway] [handler] [debug] [a208286f2240] PETITION[19882f82a926], the mobile number pass the regex expression and the formatted number is 59899111111
[2024-05-22 22:10:56.246] [micropagosmessagegateway] [validation] [info] [a208286f2240] PETITION[580eb5636663], starting to validate a regex expression
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[580eb5636663], regex expression: ^09\d{7}$ value to validate 099111111
[2024-05-22 22:10:56.246] [micropagosmessagegateway] [validation] [info] [a208286f2240] PETITION[19882f82a926], starting to validate th message length
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[19882f82a926], max length: 500 message to validate eqwe
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[19882f82a926], using normal message
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [handler] [debug] [a208286f2240] PETITION[19882f82a926], the message pass the validateMessageLength this is the final message: eqwe
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[19882f82a926], checking short number
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[19882f82a926], using short number of the config
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[580eb5636663], value match with the regex expression
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [validation] [debug] [a208286f2240] starting to format number
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], startin to prepare the call to databasegateway GetUserDomain
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [handler] [debug] [a208286f2240] PETITION[580eb5636663], the mobile number pass the regex expression and the formatted number is 59899111111
[2024-05-22 22:10:56.248] [micropagosmessagegateway] [validation] [info] [a208286f2240] PETITION[580eb5636663], starting to validate th message length
[2024-05-22 22:10:56.248] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[580eb5636663], max length: 500 message to validate 
[2024-05-22 22:10:56.248] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[580eb5636663], using massive message
[2024-05-22 22:10:56.248] [micropagosmessagegateway] [handler] [debug] [a208286f2240] PETITION[580eb5636663], the message pass the validateMessageLength this is the final message: feli
[2024-05-22 22:10:56.248] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[580eb5636663], checking short number
[2024-05-22 22:10:56.248] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[580eb5636663], using short number of the config
[2024-05-22 22:10:56.248] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], startin to prepare the call to databasegateway GetUserDomain
[2024-05-22 22:10:56.248] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[580eb5636663], starting to prepare the URL to the petition
[2024-05-22 22:10:56.247] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[19882f82a926], starting to prepare the URL to the petition
[2024-05-22 22:10:56.249] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[19882f82a926], petition http created
[2024-05-22 22:10:56.249] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Final url : http://localhost:2121/userdomain/eaguerre/19882f82a926
[2024-05-22 22:10:56.248] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[580eb5636663], petition http created
[2024-05-22 22:10:56.249] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Final url : http://localhost:2121/userdomain/eaguerre/580eb5636663
[2024-05-22 22:10:56.802] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Request to Micropagos_database tooks 553.4388ms
[2024-05-22 22:10:56.802] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], HTTP Status Response: 200
[2024-05-22 22:10:56.802] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], RESPONSE BODY: {"result":0,"message":"the domain name is: Micropagos","domain":"Micropagos"}
[2024-05-22 22:10:56.802] [micropagosmessagegateway] [client] [debug] [a208286f2240] the user domain is: Micropagos
[2024-05-22 22:10:56.803] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[580eb5636663] this is the originNumber 88277
[2024-05-22 22:10:56.803] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], startin to prepare the call to portability whit number 59899111111
[2024-05-22 22:10:56.803] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[580eb5636663], petition http created
[2024-05-22 22:10:56.803] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Final url : http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/
[2024-05-22 22:10:56.803] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Final BODY: <Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us">\n	<soapenv:Header></soapenv:Header>\n	<soapenv:Body>\n		<web:getTelco>\n			<web:msisdn>59899111111</web:msisdn>\n		</web:getTelco>\n	</soapenv:Body>\n</Envelope>
[2024-05-22 22:10:57.443] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Request to PORTABILIDAD tooks 640.0464ms
[2024-05-22 22:10:57.444] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], HTTP Status Response: 200
[2024-05-22 22:10:57.444] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], RESPONSE BODY: <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us" xmlns:xsd="http://user.dto.webservices.push.inswitch.us/xsd"><soapenv:Header/><soapenv:Body><web:getTelcoResponse><web:return><xsd:telcoCode>1</xsd:telcoCode><xsd:telcoName>ANCEL</xsd:telcoName></web:return></web:getTelcoResponse></soapenv:Body></soapenv:Envelope>
[2024-05-22 22:10:57.444] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[580eb5636663], TELCONAME: ANCEL
[2024-05-22 22:10:57.444] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[580eb5636663], starting to validate if the the origin number and destiny are filters
[2024-05-22 22:10:57.444] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], startin to prepare the call to databasegateway checking FILTER
[2024-05-22 22:10:57.445] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[580eb5636663], starting to prepare the URL to the petition
[2024-05-22 22:10:57.445] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[580eb5636663], petition http created
[2024-05-22 22:10:57.445] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Final url : http://localhost:2121/filter/99111111/88277/580eb5636663
[2024-05-22 22:10:57.853] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Request to database tooks 408.3133ms
[2024-05-22 22:10:57.854] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], HTTP Status Response: 200
[2024-05-22 22:10:57.854] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], RESPONSE BODY: {"result":false,"message":""}
[2024-05-22 22:10:57.854] [micropagosmessagegateway] [client] [debug] [a208286f2240] the filter message response was: shortnumber and destinity are filter? : false
[2024-05-22 22:10:57.854] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[580eb5636663], starting to check send after and send before data
[2024-05-22 22:10:57.854] [micropagosmessagegateway] [validation] [debug] [a208286f2240] PETITION[580eb5636663], checking send after and send before 
[2024-05-22 22:10:57.854] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[580eb5636663] senfafter or sendbefore are empity or didnt match with the expected fomat HH:mm
[2024-05-22 22:10:57.854] [micropagosmessagegateway] [validation] [debug] [a208286f2240] PETITION[580eb5636663]: sendBefore:  sendAfter: 
[2024-05-22 22:10:57.854] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], startin to prepare the call to telcoGateway
[2024-05-22 22:10:57.854] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[580eb5636663], starting to prepare the body of the petition
[2024-05-22 22:10:57.855] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[580eb5636663], petition http created
[2024-05-22 22:10:57.855] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Final url : http://localhost:1111/
[2024-05-22 22:10:57.855] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Final BODY: {"utfi":"580eb5636663","serviceType":"","origin.number":"88277","destination.number":"59899111111","validity_period":"","schedule_delivery_time":"","protocol_id":0,"esmeClass":0,"priority_flag":3,"registered_delivery":0,"replace_if_present_flag":0,"data":"66656C69","data_header_indicator":0,"data_coding_scheme":0,"data_length":4,"messagetype":4,"TLV_tag":515,"TLV_length":5,"TLV_value":"ANCEL"}
[2024-05-22 22:10:57.858] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Request to SMSGATEWAY tooks 3.1464ms
[2024-05-22 22:10:57.859] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], HTTP Status Response: 200
[2024-05-22 22:10:57.859] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], RESPONSE BODY: {"Description":"No errors","forwardRef":"3","status":"0"}
[2024-05-22 22:10:57.859] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], this is the code of the response: 0
[2024-05-22 22:10:57.860] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[580eb5636663], TelcoGatewayResponse: 0
[2024-05-22 22:10:57.860] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[580eb5636663], this is the data of the validation result {PassedValidation:true ValidationMessage: UserDomainResult:{UserDomainResult:Micropagos UserDomainMessage:the domain name is: Micropagos UserDomainError:<nil>} PortabilidadResult:{PassedPortabilidad:true PortabilidadMessage:OK} FilterResult:{IsFilter:false FilterMessage: Error:<nil>} WhenSendResult:{SendNow:true SendMessage:message is going to send now} SmsgatewayResult:{PassedSmsgateway:true SmsgatewayResult:0 SmsgatewayDescription:No errors}}
[2024-05-22 22:10:57.860] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[580eb5636663], No error time to insert the message into the database 
[2024-05-22 22:10:57.860] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], startin to prepare the call to databasegateway to INSERT message
[2024-05-22 22:10:57.860] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[580eb5636663], starting to prepare the URL and the body of the petition
[2024-05-22 22:10:57.860] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[580eb5636663], petition http created
[2024-05-22 22:10:57.861] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Final url : http://localhost:2121/insertMessage/580eb5636663
[2024-05-22 22:10:57.861] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Final BODY: {"type":"OutboundSMS","content":"feli","mobile_number":"99111111","mobile_country_iso_code":"UY","short_number":"88277","telco":"ANCEL","created":"2024-05-22T22:10:56.2455713-05:00","session_action":"NONE","processed":"2024-05-22T22:10:57.8609674-05:00","session_application_name":"micropagos 2.0","sendafter":"","sendbefore":"","sent":"2024-05-22T22:10:57.8604456-05:00","status":"SENT","origin_name":""}
[2024-05-22 22:10:58.277] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], Request to database tooks 416.2023ms
[2024-05-22 22:10:58.277] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], HTTP Status Response: 200
[2024-05-22 22:10:58.278] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], RESPONSE BODY: {"result":0,"message":"el mensaje se inserto correctamente con el id19719204","Id":19719204}
[2024-05-22 22:10:58.278] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[580eb5636663], this is the id of the message in the database: 19719204
[2024-05-22 22:10:58.278] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[580eb5636663], transaction with id 19719204 inserted correctly!
[2024-05-22 22:10:58.278] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[580eb5636663] Ended
[2024-05-22 22:11:07.135] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Request to Micropagos_database tooks 10.8864639s
[2024-05-22 22:11:07.136] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], HTTP Status Response: 200
[2024-05-22 22:11:07.136] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], RESPONSE BODY: {"result":0,"message":"the domain name is: Micropagos","domain":"Micropagos"}
[2024-05-22 22:11:07.136] [micropagosmessagegateway] [client] [debug] [a208286f2240] the user domain is: Micropagos
[2024-05-22 22:11:07.136] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[19882f82a926] this is the originNumber 88277
[2024-05-22 22:11:07.136] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], startin to prepare the call to portability whit number 59899111111
[2024-05-22 22:11:07.136] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[19882f82a926], petition http created
[2024-05-22 22:11:07.136] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Final url : http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/
[2024-05-22 22:11:07.136] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Final BODY: <Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us">\n	<soapenv:Header></soapenv:Header>\n	<soapenv:Body>\n		<web:getTelco>\n			<web:msisdn>59899111111</web:msisdn>\n		</web:getTelco>\n	</soapenv:Body>\n</Envelope>
[2024-05-22 22:11:07.570] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Request to PORTABILIDAD tooks 433.3334ms
[2024-05-22 22:11:07.571] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], HTTP Status Response: 200
[2024-05-22 22:11:07.571] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], RESPONSE BODY: <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us" xmlns:xsd="http://user.dto.webservices.push.inswitch.us/xsd"><soapenv:Header/><soapenv:Body><web:getTelcoResponse><web:return><xsd:telcoCode>1</xsd:telcoCode><xsd:telcoName>ANCEL</xsd:telcoName></web:return></web:getTelcoResponse></soapenv:Body></soapenv:Envelope>
[2024-05-22 22:11:07.572] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[19882f82a926], TELCONAME: ANCEL
[2024-05-22 22:11:07.572] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[19882f82a926], starting to validate if the the origin number and destiny are filters
[2024-05-22 22:11:07.572] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], startin to prepare the call to databasegateway checking FILTER
[2024-05-22 22:11:07.572] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[19882f82a926], starting to prepare the URL to the petition
[2024-05-22 22:11:07.572] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[19882f82a926], petition http created
[2024-05-22 22:11:07.572] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Final url : http://localhost:2121/filter/99111111/88277/19882f82a926
[2024-05-22 22:11:07.985] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Request to database tooks 413.3486ms
[2024-05-22 22:11:07.985] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], HTTP Status Response: 200
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], RESPONSE BODY: {"result":false,"message":""}
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [client] [debug] [a208286f2240] the filter message response was: shortnumber and destinity are filter? : false
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[19882f82a926], starting to check send after and send before data
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [validation] [debug] [a208286f2240] PETITION[19882f82a926], checking send after and send before 
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [validation] [trace] [a208286f2240] PETITION[19882f82a926] senfafter or sendbefore are empity or didnt match with the expected fomat HH:mm
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [validation] [debug] [a208286f2240] PETITION[19882f82a926]: sendBefore:  sendAfter: 
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], startin to prepare the call to telcoGateway
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[19882f82a926], starting to prepare the body of the petition
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[19882f82a926], petition http created
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Final url : http://localhost:1111/
[2024-05-22 22:11:07.986] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Final BODY: {"utfi":"19882f82a926","serviceType":"","origin.number":"88277","destination.number":"59899111111","validity_period":"","schedule_delivery_time":"","protocol_id":0,"esmeClass":0,"priority_flag":3,"registered_delivery":0,"replace_if_present_flag":0,"data":"65717765","data_header_indicator":0,"data_coding_scheme":0,"data_length":4,"messagetype":4,"TLV_tag":515,"TLV_length":5,"TLV_value":"ANCEL"}
[2024-05-22 22:11:07.988] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Request to SMSGATEWAY tooks 522.6µs
[2024-05-22 22:11:07.988] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], HTTP Status Response: 200
[2024-05-22 22:11:07.988] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], RESPONSE BODY: {"Description":"No errors","forwardRef":"3","status":"0"}
[2024-05-22 22:11:07.988] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], this is the code of the response: 0
[2024-05-22 22:11:07.988] [micropagosmessagegateway] [handler] [info] [a208286f2240] PETITION[19882f82a926], TelcoGatewayResponse: 0
[2024-05-22 22:11:07.988] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[19882f82a926], this is the data of the validation result {PassedValidation:true ValidationMessage: UserDomainResult:{UserDomainResult:Micropagos UserDomainMessage:the domain name is: Micropagos UserDomainError:<nil>} PortabilidadResult:{PassedPortabilidad:true PortabilidadMessage:OK} FilterResult:{IsFilter:false FilterMessage: Error:<nil>} WhenSendResult:{SendNow:true SendMessage:message is going to send now} SmsgatewayResult:{PassedSmsgateway:true SmsgatewayResult:0 SmsgatewayDescription:No errors}}
[2024-05-22 22:11:07.989] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[19882f82a926], No error time to insert the message into the database 
[2024-05-22 22:11:07.989] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], startin to prepare the call to databasegateway to INSERT message
[2024-05-22 22:11:07.989] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[19882f82a926], starting to prepare the URL and the body of the petition
[2024-05-22 22:11:07.989] [micropagosmessagegateway] [client] [trace] [a208286f2240] PETITION[19882f82a926], petition http created
[2024-05-22 22:11:07.989] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Final url : http://localhost:2121/insertMessage/19882f82a926
[2024-05-22 22:11:07.989] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Final BODY: {"type":"OutboundSMS","content":"eqwe","mobile_number":"99111111","mobile_country_iso_code":"UY","short_number":"88277","telco":"ANCEL","created":"2024-05-22T22:10:56.2455713-05:00","session_action":"NONE","processed":"2024-05-22T22:11:07.9890554-05:00","session_application_name":"micropagos 2.0","sendafter":"","sendbefore":"","sent":"2024-05-22T22:11:07.9885417-05:00","status":"SENT","origin_name":""}
[2024-05-22 22:11:08.404] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], Request to database tooks 414.6227ms
[2024-05-22 22:11:08.404] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], HTTP Status Response: 200
[2024-05-22 22:11:08.404] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], RESPONSE BODY: {"result":0,"message":"el mensaje se inserto correctamente con el id19719205","Id":19719205}
[2024-05-22 22:11:08.404] [micropagosmessagegateway] [client] [info] [a208286f2240] PETITION[19882f82a926], this is the id of the message in the database: 19719205
[2024-05-22 22:11:08.404] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[19882f82a926], transaction with id 19719205 inserted correctly!
[2024-05-22 22:11:08.404] [micropagosmessagegateway] [handler] [trace] [a208286f2240] PETITION[19882f82a926] Ended
[2024-05-22 22:11:08.404] [micropagosmessagegateway] [handler] [info] [a208286f2240] this is the number of procced message 2
[2024-05-22 22:11:08.405] [micropagosmessagegateway] [middleware] [info] [a208286f2240] Request took 12.1612493s
[2024-05-22 22:27:00.855] [not_specified] [config] [info] [] starting to get the config struct 
[2024-05-22 22:27:00.855] [Gconfiguration] [] [info] [] starting gconfiguration Versión:%!(EXTRA string=1.0.0)
[2024-05-22 22:27:00.855] [Gconfiguration] [] [info] [] ubication of the configurationfile C:\golang\proyectos\micropagosmessagateway\cmd\configuration\config.json
[2024-05-22 22:27:00.914] [Gconfiguration] [] [info] [] ending to get the configuration
[2024-05-22 22:27:00.914] [Gconfiguration] [] [trace] [] this is the data that we have in the configuration {"log_level":"info","getUserDomain":{"url":"http://localhost:2121/userdomain","method":"GET","timeout":40000},"server_port":":1000","getFilterDatabase":{"url":"http://localhost:2121/filter","method":"GET","timeout":40000},"inserMessage":{"url":"http://localhost:2121/insertMessage","method":"POST","timeout":40000},"smsGateway":{"url":"http://localhost:1111/","method":"POST","timeout":40000},"portabilidad":{"url":"http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/","method":"POST","timeout":40000,"portabilidad_user":"inswitch","portabilidad_password":"1234"},"max_message_length":500,"mobil_regex":"^09\\d{7}$","raven":[{"name":"testing","sendMail":false,"shortNumber":88277},{"name":"pronto","sendMail":false,"shortNumber":17800},{"name":"oca","sendMail":false,"shortNumber":1730},{"name":"creditel","sendMail":false,"shortNumber":4242},{"name":"itau","sendMail":false,"shortNumber":1784},{"name":"facilcel","sendMail":false,"shortNumber":3031},{"name":"santander","sendMail":false,"shortNumber":1320},{"name":"creditosDirectos","sendMail":false,"shortNumber":18919},{"name":"firstdata","sendMail":false,"shortNumber":2992},{"name":"Micropagos","sendMail":false,"shortNumber":88277}]}
[2024-05-22 22:27:00.915] [micropagosmessagegateway] [main] [info] [] starting micropagos message gateway version: 1.0.0
[2024-05-22 22:27:00.915] [micropagosmessagegateway] [server] [info] [] Starting server on address: :1000
[2024-05-22 22:27:32.414] [micropagosmessagegateway] [middleware] [info] [b4e22cadbd4a] New petition received
[2024-05-22 22:27:32.414] [micropagosmessagegateway] [middleware] [info] [b4e22cadbd4a] starting to validate the ahutentication
[2024-05-22 22:27:32.414] [micropagosmessagegateway] [middleware] [info] [b4e22cadbd4a] starting Authentication proccess for eaguerre
[2024-05-22 22:27:32.415] [micropagosmessagegateway] [middleware] [info] [b4e22cadbd4a] the user:eaguerre is already authenticated
[2024-05-22 22:27:32.415] [micropagosmessagegateway] [handlerWelcome] [info] [b4e22cadbd4a] starting handler welcome
[2024-05-22 22:27:32.415] [micropagosmessagegateway] [middleware] [info] [b4e22cadbd4a] Request took 527.2µs
[2024-05-22 22:27:58.140] [micropagosmessagegateway] [middleware] [info] [465fd7158220] New petition received
[2024-05-22 22:27:58.140] [micropagosmessagegateway] [middleware] [info] [465fd7158220] starting to validate the ahutentication
[2024-05-22 22:27:58.140] [micropagosmessagegateway] [middleware] [info] [465fd7158220] starting Authentication proccess for eaguerre
[2024-05-22 22:27:58.140] [micropagosmessagegateway] [middleware] [info] [465fd7158220] the user:eaguerre is already authenticated
[2024-05-22 22:27:58.140] [micropagosmessagegateway] [handler] [info] [465fd7158220] starting to sendMessage method to the user eaguerre
[2024-05-22 22:27:58.140] [micropagosmessagegateway] [handler] [info] [465fd7158220] starting to send massive message
[2024-05-22 22:27:58.141] [micropagosmessagegateway] [handler] [info] [465fd7158220] this is the identifier of this petition 0d309086194a
[2024-05-22 22:27:58.141] [micropagosmessagegateway] [handler] [info] [465fd7158220] this is the identifier of this petition 55ada1fc11d4
[2024-05-22 22:27:58.141] [micropagosmessagegateway] [handler] [info] [465fd7158220] PETITION[0d309086194a], starting to validate the petition #%!v(MISSING)
[2024-05-22 22:27:58.141] [micropagosmessagegateway] [handler] [info] [465fd7158220] PETITION[55ada1fc11d4], starting to validate the petition #%!v(MISSING)
[2024-05-22 22:27:58.141] [micropagosmessagegateway] [validation] [info] [465fd7158220] PETITION[0d309086194a], starting to validate a regex expression
[2024-05-22 22:27:58.141] [micropagosmessagegateway] [validation] [info] [465fd7158220] PETITION[55ada1fc11d4], starting to validate a regex expression
[2024-05-22 22:27:58.141] [micropagosmessagegateway] [validation] [info] [465fd7158220] PETITION[0d309086194a], starting to validate th message length
[2024-05-22 22:27:58.141] [micropagosmessagegateway] [handler] [info] [465fd7158220] PETITION[0d309086194a], checking short number
[2024-05-22 22:27:58.141] [micropagosmessagegateway] [validation] [info] [465fd7158220] PETITION[55ada1fc11d4], starting to validate th message length
[2024-05-22 22:27:58.142] [micropagosmessagegateway] [handler] [info] [465fd7158220] PETITION[55ada1fc11d4], checking short number
[2024-05-22 22:27:58.142] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], startin to prepare the call to databasegateway GetUserDomain
[2024-05-22 22:27:58.142] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Final url : http://localhost:2121/userdomain/eaguerre/55ada1fc11d4
[2024-05-22 22:27:58.142] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], startin to prepare the call to databasegateway GetUserDomain
[2024-05-22 22:27:58.142] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Final url : http://localhost:2121/userdomain/eaguerre/0d309086194a
[2024-05-22 22:27:58.666] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Request to Micropagos_database tooks 524.0172ms
[2024-05-22 22:27:58.666] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], HTTP Status Response: 200
[2024-05-22 22:27:58.666] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], RESPONSE BODY: {"result":0,"message":"the domain name is: Micropagos","domain":"Micropagos"}
[2024-05-22 22:27:58.666] [micropagosmessagegateway] [handler] [info] [465fd7158220] PETITION[55ada1fc11d4] this is the originNumber 88277
[2024-05-22 22:27:58.666] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], startin to prepare the call to portability whit number 59899111111
[2024-05-22 22:27:58.666] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Final url : http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/
[2024-05-22 22:27:58.667] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Final BODY: <Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us">\n	<soapenv:Header></soapenv:Header>\n	<soapenv:Body>\n		<web:getTelco>\n			<web:msisdn>59899111111</web:msisdn>\n		</web:getTelco>\n	</soapenv:Body>\n</Envelope>
[2024-05-22 22:27:59.093] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Request to PORTABILIDAD tooks 426.2331ms
[2024-05-22 22:27:59.094] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], HTTP Status Response: 200
[2024-05-22 22:27:59.095] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], RESPONSE BODY: <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us" xmlns:xsd="http://user.dto.webservices.push.inswitch.us/xsd"><soapenv:Header/><soapenv:Body><web:getTelcoResponse><web:return><xsd:telcoCode>1</xsd:telcoCode><xsd:telcoName>ANCEL</xsd:telcoName></web:return></web:getTelcoResponse></soapenv:Body></soapenv:Envelope>
[2024-05-22 22:27:59.095] [micropagosmessagegateway] [handler] [info] [465fd7158220] PETITION[55ada1fc11d4], TELCONAME: ANCEL
[2024-05-22 22:27:59.095] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], startin to prepare the call to databasegateway checking FILTER
[2024-05-22 22:27:59.095] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Final url : http://localhost:2121/filter/99111111/88277/55ada1fc11d4
[2024-05-22 22:27:59.499] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Request to database tooks 403.8508ms
[2024-05-22 22:27:59.499] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], HTTP Status Response: 200
[2024-05-22 22:27:59.499] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], RESPONSE BODY: {"result":false,"message":""}
[2024-05-22 22:27:59.499] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], startin to prepare the call to databasegateway to INSERT message
[2024-05-22 22:27:59.499] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Final url : http://localhost:2121/insertMessage/55ada1fc11d4
[2024-05-22 22:27:59.499] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Final BODY: {"type":"OutboundSMS","content":"eqwe","mobile_number":"59899111111","mobile_country_iso_code":"UY","short_number":"88277","telco":"ANCEL","created":"2024-05-22T22:27:58.141242-05:00","session_action":"NONE","processed":"2024-05-22T22:27:59.499937-05:00","session_application_name":"micropagos 2.0","sendafter":"10:22:00","sendbefore":"10:30:00","sent":"0001-01-01T00:00:00Z","status":"PENDING","origin_name":""}
[2024-05-22 22:27:59.908] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], Request to database tooks 408.1414ms
[2024-05-22 22:27:59.908] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], HTTP Status Response: 200
[2024-05-22 22:27:59.908] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], RESPONSE BODY: {"result":0,"message":"el mensaje se inserto correctamente con el id19719206","Id":19719206}
[2024-05-22 22:27:59.908] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[55ada1fc11d4], this is the id of the message in the database: 19719206
[2024-05-22 22:28:09.091] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Request to Micropagos_database tooks 10.9491118s
[2024-05-22 22:28:09.092] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], HTTP Status Response: 200
[2024-05-22 22:28:09.092] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], RESPONSE BODY: {"result":0,"message":"the domain name is: Micropagos","domain":"Micropagos"}
[2024-05-22 22:28:09.093] [micropagosmessagegateway] [handler] [info] [465fd7158220] PETITION[0d309086194a] this is the originNumber 88277
[2024-05-22 22:28:09.093] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], startin to prepare the call to portability whit number 59899111111
[2024-05-22 22:28:09.093] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Final url : http://192.168.27.41:7000/portabilidad.portabilidadHttpSoap11Endpoint/
[2024-05-22 22:28:09.093] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Final BODY: <Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us">\n	<soapenv:Header></soapenv:Header>\n	<soapenv:Body>\n		<web:getTelco>\n			<web:msisdn>59899111111</web:msisdn>\n		</web:getTelco>\n	</soapenv:Body>\n</Envelope>
[2024-05-22 22:28:09.518] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Request to PORTABILIDAD tooks 424.9491ms
[2024-05-22 22:28:09.518] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], HTTP Status Response: 200
[2024-05-22 22:28:09.518] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], RESPONSE BODY: <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://webservices.push.inswitch.us" xmlns:xsd="http://user.dto.webservices.push.inswitch.us/xsd"><soapenv:Header/><soapenv:Body><web:getTelcoResponse><web:return><xsd:telcoCode>1</xsd:telcoCode><xsd:telcoName>ANCEL</xsd:telcoName></web:return></web:getTelcoResponse></soapenv:Body></soapenv:Envelope>
[2024-05-22 22:28:09.526] [micropagosmessagegateway] [handler] [info] [465fd7158220] PETITION[0d309086194a], TELCONAME: ANCEL
[2024-05-22 22:28:09.526] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], startin to prepare the call to databasegateway checking FILTER
[2024-05-22 22:28:09.526] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Final url : http://localhost:2121/filter/99111111/88277/0d309086194a
[2024-05-22 22:28:09.947] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Request to database tooks 420.635ms
[2024-05-22 22:28:09.948] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], HTTP Status Response: 200
[2024-05-22 22:28:09.948] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], RESPONSE BODY: {"result":false,"message":""}
[2024-05-22 22:28:09.948] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], startin to prepare the call to databasegateway to INSERT message
[2024-05-22 22:28:09.948] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Final url : http://localhost:2121/insertMessage/0d309086194a
[2024-05-22 22:28:09.948] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Final BODY: {"type":"OutboundSMS","content":"feli","mobile_number":"59899111111","mobile_country_iso_code":"UY","short_number":"88277","telco":"ANCEL","created":"2024-05-22T22:27:58.141242-05:00","session_action":"NONE","processed":"2024-05-22T22:28:09.9483174-05:00","session_application_name":"micropagos 2.0","sendafter":"10:22:00","sendbefore":"10:30:00","sent":"0001-01-01T00:00:00Z","status":"PENDING","origin_name":""}
[2024-05-22 22:28:10.374] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], Request to database tooks 425.4165ms
[2024-05-22 22:28:10.374] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], HTTP Status Response: 200
[2024-05-22 22:28:10.374] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], RESPONSE BODY: {"result":0,"message":"el mensaje se inserto correctamente con el id19719207","Id":19719207}
[2024-05-22 22:28:10.374] [micropagosmessagegateway] [client] [info] [465fd7158220] PETITION[0d309086194a], this is the id of the message in the database: 19719207
[2024-05-22 22:28:10.375] [micropagosmessagegateway] [handler] [info] [465fd7158220] this is the number of procced message 2
[2024-05-22 22:28:10.375] [micropagosmessagegateway] [middleware] [info] [465fd7158220] Request took 12.235176s
